---
author: 'Karl Söderby'
hero_image: "./hero-banner.png"
micropython_type: "101"
featured: micropython-101
title: 'Serial Protocols'
description: 'Learn how to use the I2C, SPI and UART serial protocols.'
---

Serial protocols are fundamental in any electronic design, as they are the method of transporting data between different circuits and components.

They consist of digital signals that are used in clever ways to send 1's and 0's between systems. There are many, many serial protocols out there, but in this chapter we will focus on the three most important ones when working with Arduino: **I2C, SPI** and **UART**.

You will learn the following in this chapter:
- What I2C, SPI and UART is, and a brief introduction to how they work.
- how to read a sensor's data using I2C/SPI,
- how to send data between two boards, using UART. 

## Serial Protocols

Serial protocols is a collective term for techniques that sends data electronically, bit by bit in a **serial** fashion. We have previously learned about digital signals, and how they have only two states: 1 (HIGH) and 0 (LOW). 

We will now take a look at how digital signals can be used to transfer data accurately at very fast rates. This is a fundamental technique not only to Arduino, but is used in practically any computer system in the world.

But to understand serial protocols, we need to have a quick introduction to what **bits** and **binaries** are.

### Bits & Binaries

A bit is a piece of information, that can only hold two values: a 0 or a 1. As we know, digital signals can create, or read, either a 0, or a 1.

But to use just two values is quite primitive, either something is ON, or something is OFF. This is where we introduce the binary number system. This system is represented by only 0s or 1s, like for example this:

- `0101`

Now we are used to the **decimal system**. For example, if we see the number `5`, we know, it is the number `5`. But in binary, the number `5` is expressed as `0101`.

Why is this important? Well, we know that `0101` = `5`, so with that knowledge, if we use a digital signal we can actually send the number 5 by:
- First sending a "low" signal (0),
- then sending a "high" signal (1),
- then sending a "low" signal (0),
- and finally, sending a "high" signal (1).

If we send this to a system that is set up to look for these patterns, it will receive the number 5, and magically, we have sent **data over serial**. And this is how computers talk with each other.

![Graphic of how serial data works]()

Now that was just a very rough idea how they work. In reality, it is much more complex. Fortunately, we have **serial protocols** that help us to send and receive this data in a much easier fashion!

With some fundamental knowledge in this, we can now move on to learn about the I2C, SPI and UART protocols. All protocols mentioned in this article have bidirectional communication support, meaning that data can be send in either direction.

### Inter-Integrated Circuit (I2C)

I2C is a serial protocol that allows you to connect many devices (up to 128) on the **same two wires**. These wires are called Serial Data (SDA) and Serial Clock (SCL).

How this works is that each component that uses I2C, has a unique address (like `0x0C`), and using the I2C protocol, we can access just that address, and either write or read from it, using another set of addresses.

For example, we can connect a sensor, and a display to the same pins, and read the sensor data and write the value to the display.

![GIF explaining]()

This is currently one of the most used protocols in Arduino and many sensors rely on this protocol to function.

### Serial Peripheral Interace (SPI)

SPI is a 4-wire serial protocol and is also used for communication between systems. Many sensors, displays and such use the SPI protocol as it is in general twice as fast as I2C, but with more complexity in adding more devices to it.

To use SPI, we need four dedicated pins:
- **COPI** - Controller Out, Peripheral In
- **CIPO** - Controller In, Peripheral Out
- **SCK** - Serial Clock
- **CS** - Chip Select

The COPI/CIPO are used to transfer the data, while SCK is used to synchronize the data transmission.

Finally, the chip select pin is used as to determine whether the device should communicate with a controller or ignore it.

![Gif explaining / other graphic explaining SPI]()

### Universal Asynchronous Receiver-Transmitter (UART)

UART is one of the oldest and historically most used serial protocols. With a UART controller, we have two lines (TX/RX), which is used to connect two devices. 

Bits of information is then sent sequentially from one device to another, where the receiving end reconstructs the bits into complete bytes.

UART is ideal for one-to-one communication between two devices, and requires only two wires and no additional clock to function. It is significantly slower than SPI, but is rather easy to set up and use, and of course, uses less wires.

![Gif for UART / Graphic for UART]()

## Example 1: I2C Sensor

In this exercise, we are going to read the value of a sensor connected via I2C. We are going to use a very popular sensor, XXX, which reads the temperature of its surroundings. 

Follow the circuit diagram below to add the LED to the circuit.

![I2C circuit]()

Open the code editor, and copy paste the following script to the `main.py` file:

```python

```

Then, click on the **”PLAY"** symbol to run the script. 

In the terminal, we should now see the current temperature being posted every second, where the data is accessed from this sensor!

![Gif of LED + pot]()

Congratulations, you have now connected two complex systems and made them communicate with each other!

## Example 2: SPI Sensor


## Example 3: UART 

In this example, we will connect send data between two boards using UART. This example **requires two boards** running the exact same program.

The connection will be made between the Nano ESP32's TX and RX pins, following the circuit below:

![UART Circuit]()

Open the code editor, and copy paste the following script to the `main.py` file:

```python

```

***Note that you need to do this on both boards.*** 

Make sure now to save the `main.py` file on the board. This will make the script run continuously. 

Both boards needs to be powered, so connect them both to the computer, and connect to **one of them**. As they are powered, they will run the `main.py` file continuously.

While running, a counter value will be sent between the boards. Each time the loop executes, the counter increases. In the terminal, you should therefore see a number increasing. As it increases, it is also sent over the UART interface, and is received by the other board, and this is the number you see in the terminal.

![Gif of LED + pot]()

UART can be a bit trickier to set up, and may require some troubleshooting.

## Summary

In this chapter, we learned about the three most common serial protocols in Arduino: **I2C, SPI** and **UART**. We covered the basics, and provided a series of examples that gives you a practical view of how it works.

Serial protocols is an advanced topic, and in this chapter we have only covered a fraction, so that you have an idea on how the examples work!

To learn more about serial protocols, visit the ["communication" section in docs.arduino.cc](https://docs.arduino.cc/learn/#communication).

- [Next Chapter: Internet of Things & Arduino IoT Cloud](/micropython-course/course/internet-of-things)

